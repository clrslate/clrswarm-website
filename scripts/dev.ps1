param([int]$Port=5173)
Write-Host "Starting simple dev server on http://localhost:$Port" -ForegroundColor Cyan
try {
  $listener = [System.Net.HttpListener]::New()
  $prefix = "http://localhost:$Port/"
  $listener.Prefixes.Add($prefix)
  $listener.Start()
  Write-Host "Serving ./src directory"
  while ($listener.IsListening) {
    $context = $listener.GetContext()
    $localPath = $context.Request.Url.AbsolutePath.TrimStart('/')
    if ([string]::IsNullOrWhiteSpace($localPath)) { $localPath = 'index.html' }
    $filePath = Join-Path -Path (Resolve-Path './src') -ChildPath $localPath
    if (Test-Path $filePath) {
      $bytes = [System.IO.File]::ReadAllBytes($filePath)
      $context.Response.ContentType = if ($filePath.EndsWith('.css')) { 'text/css' } elseif ($filePath.EndsWith('.js')) { 'text/javascript' } else { 'text/html' }
      $context.Response.OutputStream.Write($bytes,0,$bytes.Length)
    } else {
      $context.Response.StatusCode = 404
      $msg = [System.Text.Encoding]::UTF-8
      $context.Response.OutputStream.Write($msg,0,$msg.Length)
    }
    $context.Response.Close()
  }
} finally { if ($listener) { $listener.Stop() } }
